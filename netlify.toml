[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  # Configure secrets scanning - omit known safe public values
  SECRETS_SCAN_SMART_DETECTION_OMIT_VALUES = "AIzaSyCE5iR7s6wTQXalPCtZnYyepHybSt3DyGg,6nHPbBNxh31qpKfLrs3WzzDGkDjmQYQGuVsh9qB7VLBQ,8QY2zcWZWwBZYMeiSfPivWAiPBbLZe1mbnyJauWe8ms6,EnEnryMh6Lcxjr8Qard3kSFHJokSxCuqcwCfGLHbmMZa,AMrF3PSDh8Th7ygYbMabMzzJ6vUKJGd7xFkziSVVGqsQ,EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU,389882690641,1:389882690641:web:f156f43b9ec28d48370c70,G-HJHZ7SGNKB,rainbow-nft-bc02e,rainbow-nft-bc02e.firebaseapp.com,rainbow-nft-bc02e.firebasestorage.app"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  conditions = {Role = ["admin"]}

# Headers for security
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "camera=(), microphone=(), geolocation=()"
